(function(){function e(){r=c.createElement("aside"),r.id=r.className="user",r.innerHTML=y.avatar+y.nav,u.appendChild(r),i=c.getElementById("avatar"),l=c.getElementById("nav"),s=c.createElement("div"),s.className="progressbar",s.innerHTML=y.progressbar,u.appendChild(s),s=s.getElementsByTagName("div")[0],a=parseInt(d.getComputedStyle(r,null).top),d.onscroll=function(){t(),n()},d.onresize=function(){clearTimeout(g),g=setTimeout(function(){n()},200)},d.onload=function(){setTimeout(function(){u.className=""},1e3)},i.onclick=function(){l.className="on"==l.className?"":"on"}}function t(){clearTimeout(h),h=setTimeout(function(){a=p.scrollTop+f,r.style.top=a+"px"},500)}function n(){clearTimeout(o),o=setTimeout(function(){s.style.width=100*((p.scrollTop+d.innerHeight)/p.scrollHeight)+"%"},500)}var a,r,i,s,l,o,g,c=document,u=c.body,p=-1!=navigator.userAgent.indexOf("Chrome")?c.body:c.documentElement||c.body,d=window,m=parseInt(d.innerHeight),f=m/2-120,h=0,y={avatar:'<div class="avatar" id="avatar"><img src="../imgs/avatar.jpg" width="120" height="120"></div>',progressbar:'<div class="progress"></div>',nav:'<div id="nav">                <ul>                    <li><a href="#" id="prev"><span>Prev</span></a></li>                    <li><a href="#" id="backToMenu"><span>Index</span></a></li>                    <li><a href="#" id="next"><span>Next</span></a></li>                </ul>            </div>'};n(),e()})();
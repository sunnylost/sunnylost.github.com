<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CSS 规范——Background</title>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Graduate|Numans">
    <link rel="stylesheet" type="text/css" href="/assets/style/prism.css">
    <link rel="stylesheet" type="text/css" href="/assets/style/site.css">
    <link href="/assets/lib/polymer/polymer.html" rel="import">
    <link href="/assets/elements/x-menu.html" rel="import">
    <link href="/assets/elements/x-table-of-content.html" rel="import">
    <link href="/assets/elements/x-progressbar.html" rel="import">
    <link href="/assets/elements/x-go-top.html" rel="import">
    <script src="/assets/lib/platform/platform.js" defer></script>
    <script src="/assets/js/prism.js" defer></script>
  </head>
  <body>
    <div class="page-loading">
      <div class="loading-bar"></div>
    </div>
    <script>
      !function(){
        var s = 'page-loading'; 
        window.addEventListener('load', function() {
          setTimeout(function() {
            document.querySelector('.' + s).classList.remove(s);
          }, 500);
        });
      }();  
    </script>
    <x-menu></x-menu>
    <div class="content">
      <h1 class="header">CSS 规范——Background</h1>
      <x-table-of-content root=".article" scroll=".content"></x-table-of-content>
      <article class="article single-column">
        <div class="wrap">
          <p>date: 2014-3-8</p>

<p>规范地址：<a href="http://www.w3.org/TR/css3-background/">css3-background</a></p>

<p>资源：</p>

<ul><li><a href="http://www.slideshare.net/maxdesign/css3-backgrounds">css3-backgrounds</a></li><li><a href="http://www.impressivewebs.com/space-round-css3-background/">CSS3&#39;s &#39;space&#39; and &#39;round&#39; Values for background-repeat</a></li><li><a href="http://lea.verou.me/2012/04/background-attachment-local/">Pure CSS scrolling shadows with background-attachment: local</a></li></ul>

<p>该规范用于替换和扩充 CSS 2.1 的 8.5 和 14.2 节。</p>

<h1>背景(background)</h1>

<p>box 的背景由：content，padding，border 构成。</p>

<p>box 的 <code class="language-javascript">background</code> 属性是不可以继承的，但是因为默认背景颜色是透明，因此还是可以看到父级 box 的背景。</p>

<h2>多重背景图片</h2>

<p><code class="language-javascript">background-image</code> 支持多个用逗号分隔的值，每个值都会创建一个层，<code class="language-javascript">none</code> 也会创建。</p>

<p>这些 image 值与其他背景属性配合来实现背景图片的大小，布局，平铺。如果其他背景属性值的个数超出了背景图片个数，那么多出的部分无效；如果数目不足，那就重复之前设置的<strong>所有的值</strong>来满足个数要求。</p>

<p>背景图片按照声明的顺序从上到下排列。最下面的一层是 <code class="language-javascript">background-color</code>。</p>

<h2>平铺(tile)</h2>

<p>背景图片使用 <code class="language-javascript">background-repeat</code> 来实现平铺。可以设置一个或两个值来实现水平与垂直两个方向上的平铺行为。</p>

<p>可以取的值为：</p>

<ul><li><code class="language-javascript">repeat</code>：默认值。在某个方向上重复来铺满<em>背景渲染区域(background painting area)</em>。</li><li><code class="language-javascript">space</code>：会铺满<em>背景定位区域(background position area)</em>，但是图片不会被<strong>裁剪</strong>。第一张和最后一张图片和区域的边界相接。如果背景渲染区域大于定位区域，那么图片会铺满渲染区域。因为会尽量铺满，所以图片之间会有间隙。</li><li><code class="language-javascript">round</code>：和 <code class="language-javascript">space</code> 类似，也是尽量铺满，不被裁剪，但它采取的方式是拉伸图片。</li><li><code class="language-javascript">no-repeat</code>：图片不平铺。</li></ul>

<p>除上面的值外，还有 <code class="language-javascript">repeat-x</code> 和 <code class="language-javascript">repeat-y</code>。</p>

<p><a href="http://sunnylost.com/demo/learn/background-repeat.html">demo 地址</a>，可以选择不同的 <code class="language-javascript">background-repeat</code> 值并尝试改变页面尺寸来查看效果。</p>

<h2>依附(attachment)</h2>

<p><code class="language-javascript">background-attachment</code> 拥有三个值：</p>

<ul><li><code class="language-javascript">fixed</code>：背景相对于视口固定。</li><li><code class="language-javascript">local</code>：背景相对于元素内容区固定，内容区滚动，背景也随之而动。</li><li><code class="language-javascript">scroll</code>：默认值。相对于元素自身固定，不跟着内容区滚动。</li></ul>

<h2>定位(position)</h2>

<p><code class="language-javascript">background-position</code> 的值可以是关键字：</p>

<ul><li><code class="language-javascript">center</code></li><li><code class="language-javascript">left</code></li><li><code class="language-javascript">right</code></li><li><code class="language-javascript">top</code></li><li><code class="language-javascript">bottom</code></li></ul>

<p>还可以是百分数和长度。</p>

<p>该值其实包含了 <code class="language-javascript">background-position-x</code> 和 <code class="language-javascript">background-position-y</code> 两个值。如果只提供一个值，那么第二个值为 <code class="language-javascript">center</code>。</p>

<p>如果有四个值，即两对位置，那么它们必须以一个关键字开头，第二个值是相对于该关键字所在边的位移。比如说：<code class="language-javascript">left 10px top 15px</code> 就是相对于 <code class="language-javascript">left</code> 偏移 10 像素，<code class="language-javascript">top</code> 同理。</p>

<p>如果只有三个值，那么最后一个为 0。</p>

<h2>裁剪(clip)</h2>

<p><code class="language-javascript">background-clip</code> 用于确定<em>背景渲染区域</em>，即背景在哪个区域内渲染：</p>

<ul><li><code class="language-javascript">border-box</code>：默认值。在元素 border 区内渲染。</li><li><code class="language-javascript">padding-box</code>：……</li><li><code class="language-javascript">content-box</code>：……</li></ul>

<p>需要注意的是：</p>

<ol><li>根元素拥有不同的背景渲染区域，因此对它设置 <code class="language-javascript">background-clip</code> 不会生效。</li><li>背景总是绘制在边框下面。</li></ol>

<h2>定位区域</h2>

<p><code class="language-javascript">background-origin</code> 用于确定<em>背景定位区域</em>，这是对于作为一个 box 来渲染的元素来说，对于作为多个 box 来渲染的元素，和另一个 <a href="http://www.w3.org/TR/css3-break/">css3-break</a> 规范有关，现在还没看到那里。</p>

<p>它和 <code class="language-javascript">background-clip</code> 一样拥有相同的三个值，不赘述了。</p>

<h2>尺寸</h2>

<p><code class="language-javascript">background-size</code> 决定了背景图片的尺寸：</p>

<ul><li><code class="language-javascript">contain</code>：等比缩放背景图片到最大，确保它的尺寸小于等于<em>背景定位区域</em>。</li><li><code class="language-javascript">cover</code>：等比缩放背景图片到最小，确保它的尺寸大于等于……</li><li><code class="language-javascript">auto</code>：根据图片默认比例计算，如果失败则使用原始尺寸，否则的话为 100%。</li></ul>

<p>除了这三个特殊值外，还可以指定长度或百分比。如果有两个值，那么第一个值表示宽度，第二个值表示高度。</p>  
        </div>
      </article>
    </div>
    <x-progressbar root=".content"></x-progressbar>
    <x-go-top root=".content"></x-go-top>
  </body>
</html>